<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Appointment - FingerPrint</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/date-fns@2.30.0/index.min.js"></script>
    <!-- Optional polyfill if needed, relying on native JS Date here -->
</head>

<body class="bg-light pb-5 premium-bg">
    <!-- Animated Background Mesh -->
    <div class="animated-bg">
        <div class="bg-blob blob-1"></div>
        <div class="bg-blob blob-2"></div>
        <div class="bg-blob blob-3"></div>
    </div>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-md navbar-light fixed-top bg-white border-bottom">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center gap-2" href="index.html">
                <img src="assets/images/logo.jpg" alt="Point Zero Global Services" style="height: 75px;">
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-center gap-3">
                    <li class="nav-item"><a class="nav-link text-secondary fw-medium" href="index.html">Home</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle text-secondary fw-medium" href="#" id="servicesDropdown"
                            role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Services
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end shadow-lg border-0 rounded-3 mt-2"
                            aria-labelledby="servicesDropdown" style="min-width: 250px;">
                            <li><a class="dropdown-item py-2 px-3 small" href="services.html#service-1">Record
                                    Suspension</a></li>
                            <li><a class="dropdown-item py-2 px-3 small" href="services.html#service-2">Police Check
                                    (Outside CA)</a></li>
                            <li><a class="dropdown-item py-2 px-3 small" href="services.html#service-3">USA Entry
                                    Waiver</a></li>
                            <li><a class="dropdown-item py-2 px-3 small" href="services.html#service-4">Police
                                    Certificate (ECPIC)</a></li>
                            <li><a class="dropdown-item py-2 px-3 small" href="services.html#service-5">Digital
                                    Fingerprinting</a></li>
                            <li><a class="dropdown-item py-2 px-3 small" href="services.html#service-6">Name Change
                                    Application</a></li>
                            <li><a class="dropdown-item py-2 px-3 small" href="services.html#service-7">Employment
                                    Screening</a></li>
                            <li><a class="dropdown-item py-2 px-3 small" href="services.html#service-8">Security
                                    License</a></li>
                            <li><a class="dropdown-item py-2 px-3 small" href="services.html#service-9">Background
                                    Checks</a></li>
                            <li><a class="dropdown-item py-2 px-3 small" href="services.html#service-10">Ink & Roll
                                    Fingerprinting</a></li>
                            <li><a class="dropdown-item py-2 px-3 small" href="services.html#service-11">Criminal Record
                                    Checks</a></li>
                            <li>
                                <hr class="dropdown-divider">
                            </li>
                            <li><a class="dropdown-item py-2 px-3 small fw-bold text-brand-green text-center"
                                    href="services.html">View All Services</a></li>
                        </ul>
                    </li>
                    <li class="nav-item"><a class="nav-link text-secondary fw-medium" href="faq.html">FAQ</a></li>
                    <li class="nav-item"><a class="nav-link text-secondary fw-medium" href="about.html">About Us</a>
                    </li>
                    <li class="nav-item"><a class="nav-link text-secondary fw-medium"
                            href="index.html#contact">Contact</a></li>
                    <li class="nav-item"><a class="nav-link text-secondary fw-medium" href="#" data-bs-toggle="modal"
                            data-bs-target="#loginModal">Sign In</a></li>
                    <li class="nav-item"><a class="nav-link text-secondary fw-medium" href="#" data-bs-toggle="modal"
                            data-bs-target="#signupModal">Sign Up</a>
                    </li>
                    <li class="nav-item">
                        <a href="book.html"
                            class="btn btn-brand-green btn-aura text-white fw-semibold px-4 shadow-sm">Book
                            Appointment</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container pt-5 mt-5">
        <div class="text-center mb-5 mt-4">
            <h1 class="display-5 fw-bold text-dark mb-2">Book Your Appointment</h1>
            <p class="lead text-secondary">Secure your spot for professional fingerprinting services.</p>
        </div>

        <!-- Cancellation Overlay -->
        <div id="cancel-overlay" class="d-none animate-fade-in-up text-center py-5">
            <div class="bg-white rounded-5 shadow-lg p-5 mx-auto" style="max-width: 500px;">
                <i class="fa-solid fa-circle-xmark text-danger fa-4x mb-4"></i>
                <h2 class="fw-bold mb-3">Appointment Cancelled</h2>
                <p class="text-secondary mb-4">Your appointment has been successfully removed from our schedule.</p>
                <a href="book.html" class="btn btn-brand-green text-white px-5 rounded-pill fw-bold">Book a New Slot</a>
            </div>
        </div>

        <div class="card shadow-lg border-0 rounded-4 overflow-hidden mx-auto" style="max-width: 1000px;">
            <div class="card-body p-0">
                <!-- TidyCal Embed -->
                <div id="tidycal-container" class="tidycal-embed" data-path="pzfingerprinting/pzfingerprinting"></div>

                <script>
                    // Dynamic TidyCal Embed with Pre-filled Data
                    (function () {
                        const container = document.getElementById('tidycal-container');
                        let path = "pzfingerprinting/pzfingerprinting";

                        // Check if user is logged in
                        const userProfile = localStorage.getItem('userProfile');
                        if (userProfile) {
                            try {
                                const user = JSON.parse(userProfile);
                                const params = new URLSearchParams();
                                if (user.email) params.append('email', user.email);
                                if (user.firstName && user.lastName) params.append('name', user.firstName + ' ' + user.lastName);
                                if (user.phone) params.append('phone', user.phone);

                                path += '?' + params.toString();
                            } catch (e) {
                                console.error('Error parsing user profile for TidyCal pre-fill', e);
                            }
                        }

                        // Update the data-path attribute
                        container.setAttribute('data-path', path);

                        // Load the TidyCal script dynamically
                        const script = document.createElement('script');
                        script.src = "https://asset-tidycal.b-cdn.net/js/embed.js";
                        script.async = true;
                        document.body.appendChild(script);
                    })();
                </script>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer-premium">
        <!-- Subscription Bar -->
        <div class="footer-sub-bar py-4">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-7 text-center text-lg-start mb-3 mb-lg-0">
                        <h4 class="mb-1">Get New Jobs Notification!</h4>
                        <p class="text-secondary small mb-0">Subscribe & get all related Services notification.</p>
                    </div>
                    <div class="col-lg-5">
                        <form class="d-flex shadow-sm">
                            <input type="email" class="footer-sub-input form-control" placeholder="Enter your email">
                            <button type="submit" class="footer-sub-btn">Subscribe</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Footer Content -->
        <div class="container py-5">
            <div class="row g-4 justify-content-between">
                <!-- Column 1: Brand -->
                <div class="col-lg-4 col-md-12">
                    <div class="mb-4">
                        <img src="assets/images/logo.jpg" alt="Point Zero" style="height: 75px;">
                    </div>
                    <p class="mb-4 lh-base" style="font-size: 0.9rem;">
                        Point Zero Global Services – We started this company in the amidst of Lockdown because we
                        analyzed the need for fingerprinting and security screening of the people as the crime is
                        increasing in the country due... <a href="about.html"
                            class="text-brand-green text-decoration-none">read more</a>
                    </p>
                </div>

                <!-- Column 2: Quick Links -->
                <div class="col-lg-2 col-md-4">
                    <h5 class="footer-col-title">Quick Links</h5>
                    <ul class="list-unstyled">
                        <li class="footer-list-item"><a href="about.html" class="footer-link"><i
                                    class="fa-solid fa-chevron-right"></i> About</a></li>
                        <li class="footer-list-item"><a href="services.html" class="footer-link"><i
                                    class="fa-solid fa-chevron-right"></i> Services</a></li>
                        <li class="footer-list-item"><a href="index.html#team" class="footer-link"><i
                                    class="fa-solid fa-chevron-right"></i> Team</a></li>
                        <li class="footer-list-item"><a href="index.html#blog" class="footer-link"><i
                                    class="fa-solid fa-chevron-right"></i> Latest News</a></li>
                    </ul>
                </div>

                <!-- Column 3: Services -->
                <div class="col-lg-3 col-md-4">
                    <h5 class="footer-col-title">Services</h5>
                    <ul class="list-unstyled">
                        <li class="footer-list-item"><a href="services.html#service-3" class="footer-link"><i
                                    class="fa-solid fa-chevron-right"></i> USA Entry Waiver</a></li>
                        <li class="footer-list-item"><a href="services.html#service-10" class="footer-link"><i
                                    class="fa-solid fa-chevron-right"></i> Ink & Roll Fingerprinting</a></li>
                        <li class="footer-list-item"><a href="services.html#service-8" class="footer-link"><i
                                    class="fa-solid fa-chevron-right"></i> Security License Application</a></li>
                        <li class="footer-list-item"><a href="services.html#service-6" class="footer-link"><i
                                    class="fa-solid fa-chevron-right"></i> Name Change Application</a></li>
                        <li class="footer-list-item"><a href="services.html#service-4" class="footer-link"><i
                                    class="fa-solid fa-chevron-right"></i> Police Certificate (ECPIC)</a></li>
                    </ul>
                </div>

                <!-- Column 4: Contact Us -->
                <div class="col-lg-3 col-md-4">
                    <h5 class="footer-col-title">Contact Us</h5>
                    <div class="contact-info-item d-flex align-items-start gap-2">
                        <i class="fa-solid fa-envelope mt-1"></i>
                        <a href="mailto:info@pzfingerprinting.com"
                            class="text-decoration-none text-light opacity-75 small">info@pzfingerprinting.com</a>
                    </div>
                    <div class="contact-info-item d-flex align-items-start gap-2">
                        <i class="fa-solid fa-location-dot mt-1"></i>
                        <span class="opacity-75 small">Office: 203-12885 80th Avenue, Surrey, BC, V3W 0E6</span>
                    </div>
                    <div class="contact-info-item d-flex align-items-start gap-2">
                        <i class="fa-solid fa-phone mt-1"></i>
                        <span class="opacity-75 small">(+1) 778-297-2000</span>
                    </div>
                    <div class="d-flex gap-2 mt-4 pt-2">
                        <a href="#" class="social-icon-circle"><i class="fa-brands fa-facebook-f"></i></a>
                        <a href="#" class="social-icon-circle"><i class="fa-brands fa-twitter"></i></a>
                        <a href="#" class="social-icon-circle"><i class="fa-brands fa-linkedin-in"></i></a>
                        <a href="https://www.instagram.com/pointzeroglobal?igsh=OHV4cWUzZ3UzMG9x"
                            class="social-icon-circle"><i class="fa-brands fa-instagram"></i></a>
                        <a href="#" class="social-icon-circle"><i class="fa-brands fa-youtube"></i></a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Bar -->
        <div class="footer-bottom text-center">
            <div class="container">
                <p class="mb-0 opacity-75">© 2025 All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Removed Old Booking Logic Script -->

    </script>
    <!-- Accessibility Options -->
    <!-- Master Interaction Suite -->
    <script>
        const navbar = document.querySelector('.navbar');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 50) navbar.classList.add('scrolled');
            else navbar.classList.remove('scrolled');
        });

        document.addEventListener('mousemove', (e) => {
            const moveX = (e.clientX - window.innerWidth / 2) * 0.01;
            const moveY = (e.clientY - window.innerHeight / 2) * 0.01;
            const blobs = document.querySelectorAll('.bg-blob');
            blobs.forEach((blob, index) => {
                const depth = (index + 1) * 0.5;
                blob.style.transform = `translate(${moveX * depth}px, ${moveY * depth}px)`;
            });
        });
    </script>
    <script src="accessibility.js"></script>

    <!-- Auth Modals -->
    <script>
        // Load modal-auth.html content
        fetch('modal-auth.html')
            .then(response => response.text())
            .then(html => {
                document.body.insertAdjacentHTML('beforeend', html);
            })
            .catch(err => console.error('Failed to load auth modals:', err));
    </script>
    <script>
        // Load modal-auth.html content
        fetch('modal-auth.html')
            .then(response => response.text())
            .then(html => {
                document.body.insertAdjacentHTML('beforeend', html);
                // Re-initialize scripts if needed or rely on global event delegation
                // Dynamically load modal-auth.js if not present
                if (!document.querySelector('script[src="modal-auth.js"]')) {
                    const script = document.createElement('script');
                    script.src = 'modal-auth.js';
                    document.body.appendChild(script);
                }
            })
            .catch(err => console.error('Failed to load auth modals:', err));
    </script>
    <script src="auth-check.js"></script>
</body>

</html>